import{q as g,j as t,v as l,r as F,$ as h}from"./index-MtvP_01R.js";import{u as C,l as x}from"./PageWrapper-FKZhqcit.js";import{a as f,o as _,F as y}from"./index-Tlz4NJaH.js";import{P as j}from"./_baseClone-VYtN7Lua.js";import{a as w}from"./axios-G2rPRu76.js";var N=["fieldProps","proFieldProps"],S=["fieldProps","proFieldProps"],p="text",A=function(o){var e=o.fieldProps,n=o.proFieldProps,a=g(o,N);return t.jsx(f,l({valueType:p,fieldProps:e,filedConfig:{valueType:p},proFieldProps:n},a))},O=function(o){var e=C(o.open||!1,{value:o.open,onChange:o.onOpenChange}),n=h(e,2),a=n[0],u=n[1];return t.jsx(y.Item,{shouldUpdate:!0,noStyle:!0,children:function(P){var s,c=P.getFieldValue(o.name||[]);return t.jsx(j,l(l({getPopupContainer:function(r){return r&&r.parentNode?r.parentNode:r},onOpenChange:u,content:t.jsxs("div",{style:{padding:"4px 0"},children:[(s=o.statusRender)===null||s===void 0?void 0:s.call(o,c),o.strengthText?t.jsx("div",{style:{marginTop:10},children:t.jsx("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},o.popoverProps),{},{open:a,children:o.children}))}})},E=function(o){var e=o.fieldProps,n=o.proFieldProps,a=g(o,S),u=F.useState(!1),v=h(u,2),P=v[0],s=v[1];return e!=null&&e.statusRender&&a.name?t.jsx(O,{name:a.name,statusRender:e==null?void 0:e.statusRender,popoverProps:e==null?void 0:e.popoverProps,strengthText:e==null?void 0:e.strengthText,open:P,onOpenChange:s,children:t.jsx(f,l({valueType:"password",fieldProps:l(l({},_(e,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(d){var r;e==null||(r=e.onBlur)===null||r===void 0||r.call(e,d),s(!1)},onClick:function(d){var r;e==null||(r=e.onClick)===null||r===void 0||r.call(e,d),s(!0)}}),proFieldProps:n,filedConfig:{valueType:p}},a))}):t.jsx(f,l({valueType:"password",fieldProps:e,proFieldProps:n,filedConfig:{valueType:p}},a))},m=A;m.Password=E;m.displayName="ProFormComponent";const K=m,T="ALAPI_CN_TOKEN",k=()=>x.getItem(T)||"",W=i=>x.setItem(T,i);async function L(i){const o=await k();if(!o)throw new Error("ALAPI_CN_TOKEN_NOT_FOUND");const e=await w({url:"https://v2.alapi.cn/api/fanyi",method:"post",data:{token:o,q:i,from:"en",to:"zh"}});if(e.data.data.dst)return e.data.data.dst;if(e.data.data.msg)throw new Error(e.data.data.msg)}export{K as P,k as g,W as s,L as t};
