import{r as l,g as rt,m as nt,d as at,C as Ne,c as k,e as ze,w as Dt,_ as ot,f as st,h as it,k as L,l as G,n as le,p as lt,q as ct,R as je,s as ne,v as he,x as At,y as Lt,z as Xe,A as Mt,D as B,E as dt,F as ut,K as pt,G as Ut,H as We,I as Ee,J as mt,L as zt,M as Bt,N as Ke,i as Je,B as be,O as kt,P as Ht,Q as qt,S as Ye,j as d,T as ke}from"./index-l461O1zk.js";import{T as Gt,u as _t,l as re,S as ye,F as ve,B as Vt}from"./PageWrapper-sLkUscXw.js";import{C as Xt}from"./ContentWrapper-JLFWJM2O.js";import{d as ft}from"./dayjs.min-3Z0krTT9.js";import{a as Wt,b as Kt,g as Jt,s as Yt}from"./index-zhrWFXDM.js";import{g as gt,p as Qt}from"./parse-session-vlav6Vuq.js";import{L as Zt}from"./date-WJIA4S6h.js";import{C as $e}from"./index-lAP9lou2.js";import{u as ht,A as er}from"./index-cAe5g6SG.js";import"./_baseClone-M4oZtcv9.js";import{E as tr,I as fe}from"./isSymbol-ylSl9bjA.js";import{L as rr,g as nr}from"./logger-bn6oalJg.js";import{a as ar}from"./axios-G2rPRu76.js";import{g as or,D as sr,R as Se}from"./_isIterateeCall-YsVKrjLR.js";import{P as ir}from"./Table-c9Z9g3up.js";import{T as vt}from"./index-2dvF7Uke.js";import{P as lr,c as cr,a as dr,r as ur}from"./index-y2puK_AQ.js";import{g as pr,P as mr,s as fr}from"./alapi-cn-PMRslL2v.js";import{g as gr,a as hr}from"./get-VWd4L7mn.js";import{u as vr}from"./useQuery-9DgONkgY.js";import{c as br}from"./clone-4RJBZSNL.js";import{S as yr}from"./Skeleton-sN1yhVZQ.js";import"./toNumber-DTwpbeKl.js";import"./index-wdq1Sy8x.js";import"./index-0Q2Z4tdF.js";import"./Overflow-etUI6nZF.js";import"./debounce-zHi0SocO.js";import"./index-qjutKuMu.js";import"./index-ALfgnCkM.js";import"./ReloadOutlined-XyfkVv_8.js";import"./PlusOutlined-GqqakMkF.js";import"./key-name-frYyCvOB.js";const wr=e=>{const{value:t,formatter:r,precision:a,decimalSeparator:i,groupSeparator:s="",prefixCls:o}=e;let n;if(typeof r=="function")n=r(t);else{const p=String(t),u=p.match(/^(-?)(\d*)(\.(\d+))?$/);if(!u||p==="-")n=p;else{const c=u[1];let m=u[2]||"0",f=u[4]||"";m=m.replace(/\B(?=(\d{3})+(?!\d))/g,s),typeof a=="number"&&(f=f.padEnd(a,"0").slice(0,a>0?a:0)),f&&(f=`${i}${f}`),n=[l.createElement("span",{key:"int",className:`${o}-content-value-int`},c,m),f&&l.createElement("span",{key:"decimal",className:`${o}-content-value-decimal`},f)]}}return l.createElement("span",{className:`${o}-content-value`},n)},xr=wr,$r=e=>{const{componentCls:t,marginXXS:r,padding:a,colorTextDescription:i,titleFontSize:s,colorTextHeading:o,contentFontSize:n,fontFamily:p}=e;return{[`${t}`]:Object.assign(Object.assign({},at(e)),{[`${t}-title`]:{marginBottom:r,color:i,fontSize:s},[`${t}-skeleton`]:{paddingTop:a},[`${t}-content`]:{color:o,fontSize:n,fontFamily:p,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:r},[`${t}-content-suffix`]:{marginInlineStart:r}}})}},Cr=e=>{const{fontSizeHeading3:t,fontSize:r}=e;return{titleFontSize:r,contentFontSize:t}},Sr=rt("Statistic",e=>{const t=nt(e,{});return[$r(t)]},Cr),jr=e=>{const{prefixCls:t,className:r,rootClassName:a,style:i,valueStyle:s,value:o=0,title:n,valueRender:p,prefix:u,suffix:c,loading:m=!1,onMouseEnter:f,onMouseLeave:b,decimalSeparator:C=".",groupSeparator:E=","}=e,{getPrefixCls:D,direction:P,statistic:S}=l.useContext(Ne),x=D("statistic",t),[N,h,R]=Sr(x),j=l.createElement(xr,Object.assign({decimalSeparator:C,groupSeparator:E,prefixCls:x},e,{value:o})),_=k(x,{[`${x}-rtl`]:P==="rtl"},S==null?void 0:S.className,r,a,h,R);return N(l.createElement("div",{className:_,style:Object.assign(Object.assign({},S==null?void 0:S.style),i),onMouseEnter:f,onMouseLeave:b},n&&l.createElement("div",{className:`${x}-title`},n),l.createElement(yr,{paragraph:!1,loading:m,className:`${x}-skeleton`},l.createElement("div",{style:s,className:`${x}-content`},u&&l.createElement("span",{className:`${x}-content-prefix`},u),p?p(j):j,c&&l.createElement("span",{className:`${x}-content-suffix`},c)))))},ge=jr,Er=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Ir(e,t){let r=e;const a=/\[[^\]]*]/g,i=(t.match(a)||[]).map(p=>p.slice(1,-1)),s=t.replace(a,"[]"),o=Er.reduce((p,u)=>{let[c,m]=u;if(p.includes(c)){const f=Math.floor(r/m);return r-=f*m,p.replace(new RegExp(`${c}+`,"g"),b=>{const C=b.length;return f.toString().padStart(C,"0")})}return p},s);let n=0;return o.replace(a,()=>{const p=i[n];return n+=1,p})}function Or(e,t){const{format:r=""}=t,a=new Date(e).getTime(),i=Date.now(),s=Math.max(a-i,0);return Ir(s,r)}const Pr=1e3/30;function Nr(e){return new Date(e).getTime()}const Fr=e=>{const{value:t,format:r="HH:mm:ss",onChange:a,onFinish:i}=e,s=ht(),o=l.useRef(null),n=()=>{i==null||i(),o.current&&(clearInterval(o.current),o.current=null)},p=()=>{const m=Nr(t);m>=Date.now()&&(o.current=setInterval(()=>{s(),a==null||a(m-Date.now()),m<Date.now()&&n()},Pr))};l.useEffect(()=>(p(),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[t]);const u=(m,f)=>Or(m,Object.assign(Object.assign({},f),{format:r})),c=m=>ze(m,{title:void 0});return l.createElement(ge,Object.assign({},e,{valueRender:c,formatter:u}))},Rr=l.memo(Fr);ge.Countdown=Rr;const Ae=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),a=e.name||"",i=e.type||"",s=i.replace(/\/.*$/,"");return r.some(function(o){var n=o.trim();if(/^\*(\/\*)?$/.test(o))return!0;if(n.charAt(0)==="."){var p=a.toLowerCase(),u=n.toLowerCase(),c=[u];return(u===".jpg"||u===".jpeg")&&(c=[".jpg",".jpeg"]),c.some(function(m){return p.endsWith(m)})}return/\/\*$/.test(n)?s===n.replace(/\/.*$/,""):i===n?!0:/^\w+$/.test(n)?(Dt(!1,"Upload takes an invalidate 'accept' type '".concat(n,"'.Skip for check.")),!0):!1})}return!0};function Tr(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),a=new Error(r);return a.status=t.status,a.method=e.method,a.url=e.action,a}function Qe(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function Dr(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),e.onProgress(s)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(i){var s=e.data[i];if(Array.isArray(s)){s.forEach(function(o){r.append("".concat(i,"[]"),o)});return}r.append(i,s)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(s){e.onError(s)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Tr(e,t),Qe(t)):e.onSuccess(Qe(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};return a["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(a).forEach(function(i){a[i]!==null&&t.setRequestHeader(i,a[i])}),t.send(r),{abort:function(){t.abort()}}}function Ar(e,t){var r=e.createReader(),a=[];function i(){r.readEntries(function(s){var o=Array.prototype.slice.apply(s);a=a.concat(o);var n=!o.length;n?t(a):i()})}i()}var Lr=function(t,r,a){var i=function s(o,n){o&&(o.path=n||"",o.isFile?o.file(function(p){a(p)&&(o.fullPath&&!p.webkitRelativePath&&(Object.defineProperties(p,{webkitRelativePath:{writable:!0}}),p.webkitRelativePath=o.fullPath.replace(/^\//,""),Object.defineProperties(p,{webkitRelativePath:{writable:!1}})),r([p]))}):o.isDirectory&&Ar(o,function(p){p.forEach(function(u){s(u,"".concat(n).concat(o.name,"/"))})}))};t.forEach(function(s){i(s.webkitGetAsEntry())})},Mr=+new Date,Ur=0;function Le(){return"rc-upload-".concat(Mr,"-").concat(++Ur)}var zr=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Br=function(e){ot(r,e);var t=st(r);function r(){var a;it(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),L(G(a),"state",{uid:Le()}),L(G(a),"reqs",{}),L(G(a),"fileInput",void 0),L(G(a),"_isMounted",void 0),L(G(a),"onChange",function(n){var p=a.props,u=p.accept,c=p.directory,m=n.target.files,f=le(m).filter(function(b){return!c||Ae(b,u)});a.uploadFiles(f),a.reset()}),L(G(a),"onClick",function(n){var p=a.fileInput;if(p){var u=n.target,c=a.props.onClick;if(u&&u.tagName==="BUTTON"){var m=p.parentNode;m.focus(),u.blur()}p.click(),c&&c(n)}}),L(G(a),"onKeyDown",function(n){n.key==="Enter"&&a.onClick(n)}),L(G(a),"onFileDrop",function(n){var p=a.props.multiple;if(n.preventDefault(),n.type!=="dragover")if(a.props.directory)Lr(Array.prototype.slice.call(n.dataTransfer.items),a.uploadFiles,function(c){return Ae(c,a.props.accept)});else{var u=le(n.dataTransfer.files).filter(function(c){return Ae(c,a.props.accept)});p===!1&&(u=u.slice(0,1)),a.uploadFiles(u)}}),L(G(a),"uploadFiles",function(n){var p=le(n),u=p.map(function(c){return c.uid=Le(),a.processFile(c,p)});Promise.all(u).then(function(c){var m=a.props.onBatchStart;m==null||m(c.map(function(f){var b=f.origin,C=f.parsedFile;return{file:b,parsedFile:C}})),c.filter(function(f){return f.parsedFile!==null}).forEach(function(f){a.post(f)})})}),L(G(a),"processFile",function(){var n=Lt(Xe().mark(function p(u,c){var m,f,b,C,E,D,P,S,x;return Xe().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(m=a.props.beforeUpload,f=u,!m){h.next=14;break}return h.prev=3,h.next=6,m(u,c);case 6:f=h.sent,h.next=12;break;case 9:h.prev=9,h.t0=h.catch(3),f=!1;case 12:if(f!==!1){h.next=14;break}return h.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(b=a.props.action,typeof b!="function"){h.next=21;break}return h.next=18,b(u);case 18:C=h.sent,h.next=22;break;case 21:C=b;case 22:if(E=a.props.data,typeof E!="function"){h.next=29;break}return h.next=26,E(u);case 26:D=h.sent,h.next=30;break;case 29:D=E;case 30:return P=(Mt(f)==="object"||typeof f=="string")&&f?f:u,P instanceof File?S=P:S=new File([P],u.name,{type:u.type}),x=S,x.uid=u.uid,h.abrupt("return",{origin:u,data:D,parsedFile:x,action:C});case 35:case"end":return h.stop()}},p,null,[[3,9]])}));return function(p,u){return n.apply(this,arguments)}}()),L(G(a),"saveFileInput",function(n){a.fileInput=n}),a}return lt(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(i){var s=this,o=i.data,n=i.origin,p=i.action,u=i.parsedFile;if(this._isMounted){var c=this.props,m=c.onStart,f=c.customRequest,b=c.name,C=c.headers,E=c.withCredentials,D=c.method,P=n.uid,S=f||Dr,x={action:p,filename:b,data:o,file:u,headers:C,withCredentials:E,method:D||"post",onProgress:function(h){var R=s.props.onProgress;R==null||R(h,u)},onSuccess:function(h,R){var j=s.props.onSuccess;j==null||j(h,u,R),delete s.reqs[P]},onError:function(h,R){var j=s.props.onError;j==null||j(h,R,u),delete s.reqs[P]}};m(n),this.reqs[P]=S(x)}}},{key:"reset",value:function(){this.setState({uid:Le()})}},{key:"abort",value:function(i){var s=this.reqs;if(i){var o=i.uid?i.uid:i;s[o]&&s[o].abort&&s[o].abort(),delete s[o]}else Object.keys(s).forEach(function(n){s[n]&&s[n].abort&&s[n].abort(),delete s[n]})}},{key:"render",value:function(){var i,s=this.props,o=s.component,n=s.prefixCls,p=s.className,u=s.classNames,c=u===void 0?{}:u,m=s.disabled,f=s.id,b=s.style,C=s.styles,E=C===void 0?{}:C,D=s.multiple,P=s.accept,S=s.capture,x=s.children,N=s.directory,h=s.openFileDialogOnClick,R=s.onMouseEnter,j=s.onMouseLeave,_=s.hasControlInside,X=ct(s,zr),M=k((i={},L(i,n,!0),L(i,"".concat(n,"-disabled"),m),L(i,p,p),i)),Z=N?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},ae=m?{}:{onClick:h?this.onClick:function(){},onKeyDown:h?this.onKeyDown:function(){},onMouseEnter:R,onMouseLeave:j,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:_?void 0:"0"};return je.createElement(o,ne({},ae,{className:M,role:_?void 0:"button",style:b}),je.createElement("input",ne({},At(X,{aria:!0,data:!0}),{id:f,disabled:m,type:"file",ref:this.saveFileInput,onClick:function(J){return J.stopPropagation()},key:this.state.uid,style:he({display:"none"},E.input),className:c.input,accept:P},Z,{multiple:D,onChange:this.onChange},S!=null?{capture:S}:{})),x)}}]),r}(l.Component);function Me(){}var Be=function(e){ot(r,e);var t=st(r);function r(){var a;it(this,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return a=t.call.apply(t,[this].concat(s)),L(G(a),"uploader",void 0),L(G(a),"saveUploader",function(n){a.uploader=n}),a}return lt(r,[{key:"abort",value:function(i){this.uploader.abort(i)}},{key:"render",value:function(){return je.createElement(Br,ne({},this.props,{ref:this.saveUploader}))}}]),r}(l.Component);L(Be,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Me,onError:Me,onSuccess:Me,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const kr=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${B(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${B(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${B(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},Hr=e=>{const{componentCls:t,antCls:r,iconCls:a,fontSize:i,lineHeight:s,calc:o}=e,n=`${t}-list-item`,p=`${n}-actions`,u=`${n}-action`,c=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},dt()),{lineHeight:e.lineHeight,[n]:{position:"relative",height:o(e.lineHeight).mul(i).equal(),marginTop:e.marginXS,fontSize:i,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${n}-name`]:Object.assign(Object.assign({},ut),{padding:`0 ${B(e.paddingXS)}`,lineHeight:s,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[p]:{[u]:{opacity:0},[a]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1},[`${u}${r}-btn`]:{height:c,border:0,lineHeight:1}},[`${t}-icon ${a}`]:{color:e.colorTextDescription,fontSize:i},[`${n}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:o(i).add(e.paddingXS).equal(),fontSize:i,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${n}:hover ${u}`]:{opacity:1},[`${n}-error`]:{color:e.colorError,[`${n}-name, ${t}-icon ${a}`]:{color:e.colorError},[p]:{[`${a}, ${a}:hover`]:{color:e.colorError},[u]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Ze=new pt("uploadAnimateInlineIn",{from:{width:0,height:0,margin:0,padding:0,opacity:0}}),et=new pt("uploadAnimateInlineOut",{to:{width:0,height:0,margin:0,padding:0,opacity:0}}),qr=e=>{const{componentCls:t}=e,r=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${r}-appear, ${r}-enter, ${r}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${r}-appear, ${r}-enter`]:{animationName:Ze},[`${r}-leave`]:{animationName:et}}},{[`${t}-wrapper`]:Ut(e)},Ze,et]},Gr=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:a,uploadProgressOffset:i,calc:s}=e,o=`${t}-list`,n=`${o}-item`;return{[`${t}-wrapper`]:{[`
        ${o}${o}-picture,
        ${o}${o}-picture-card,
        ${o}${o}-picture-circle
      `]:{[n]:{position:"relative",height:s(a).add(s(e.lineWidth).mul(2)).add(s(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${B(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${n}-thumbnail`]:Object.assign(Object.assign({},ut),{width:a,height:a,lineHeight:B(s(a).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${n}-progress`]:{bottom:i,width:`calc(100% - ${B(s(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:s(a).add(e.paddingXS).equal()}},[`${n}-error`]:{borderColor:e.colorError,[`${n}-thumbnail ${r}`]:{[`svg path[fill='${We[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${We.primary}']`]:{fill:e.colorError}}},[`${n}-uploading`]:{borderStyle:"dashed",[`${n}-name`]:{marginBottom:i}}},[`${o}${o}-picture-circle ${n}`]:{[`&, &::before, ${n}-thumbnail`]:{borderRadius:"50%"}}}}},_r=e=>{const{componentCls:t,iconCls:r,fontSizeLG:a,colorTextLightSolid:i,calc:s}=e,o=`${t}-list`,n=`${o}-item`,p=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},dt()),{display:"inline-block",width:"100%",[`${t}${t}-select`]:{width:p,height:p,marginInlineEnd:e.marginXS,marginBottom:e.marginXS,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${B(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${o}${o}-picture-card, ${o}${o}-picture-circle`]:{[`${o}-item-container`]:{display:"inline-block",width:p,height:p,marginBlock:`0 ${B(e.marginXS)}`,marginInline:`0 ${B(e.marginXS)}`,verticalAlign:"top"},"&::after":{display:"none"},[n]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${B(s(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${B(s(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${n}:hover`]:{[`&::before, ${n}-actions`]:{opacity:1}},[`${n}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:a,margin:`0 ${B(e.marginXXS)}`,fontSize:a,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:i,"&:hover":{color:i},svg:{verticalAlign:"baseline"}}},[`${n}-thumbnail, ${n}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${n}-name`]:{display:"none",textAlign:"center"},[`${n}-file + ${n}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${B(s(e.paddingXS).mul(2).equal())})`},[`${n}-uploading`]:{[`&${n}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${n}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${B(s(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},Vr=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Xr=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},at(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},Wr=e=>({actionsColor:e.colorTextDescription}),Kr=rt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:a,controlHeightLG:i,calc:s}=e,o=nt(e,{uploadThumbnailSize:s(t).mul(2).equal(),uploadProgressOffset:s(s(r).div(2)).add(a).equal(),uploadPicCardSize:s(i).mul(2.55).equal()});return[Xr(o),kr(o),Gr(o),_r(o),Hr(o),qr(o),Vr(o),or(o)]},Wr);var Jr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"};const Yr=Jr;var Qr=function(t,r){return l.createElement(Ee,ne({},t,{ref:r,icon:Yr}))};const Zr=l.forwardRef(Qr);var en={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const tn=en;var rn=function(t,r){return l.createElement(Ee,ne({},t,{ref:r,icon:tn}))};const nn=l.forwardRef(rn);var an={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"};const on=an;var sn=function(t,r){return l.createElement(Ee,ne({},t,{ref:r,icon:on}))};const ln=l.forwardRef(sn);function Ie(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Oe(e,t){const r=le(t),a=r.findIndex(i=>{let{uid:s}=i;return s===e.uid});return a===-1?r.push(e):r[a]=e,r}function Ue(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(a=>a[r]===e[r])[0]}function cn(e,t){const r=e.uid!==void 0?"uid":"name",a=t.filter(i=>i[r]!==e[r]);return a.length===t.length?null:a}const dn=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),a=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(a)||[""])[0]},bt=e=>e.indexOf("image/")===0,un=e=>{if(e.type&&!e.thumbUrl)return bt(e.type);const t=e.thumbUrl||e.url||"",r=dn(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},te=200;function pn(e){return new Promise(t=>{if(!e.type||!bt(e.type)){t("");return}const r=document.createElement("canvas");r.width=te,r.height=te,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${te}px; height: ${te}px; z-index: 9999; display: none;`,document.body.appendChild(r);const a=r.getContext("2d"),i=new Image;if(i.onload=()=>{const{width:s,height:o}=i;let n=te,p=te,u=0,c=0;s>o?(p=o*(te/s),c=-(p-n)/2):(n=s*(te/o),u=-(n-p)/2),a.drawImage(i,u,c,n,p);const m=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(i.src),t(m)},i.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const s=new FileReader;s.onload=()=>{s.result&&(i.src=s.result)},s.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const s=new FileReader;s.onload=()=>{s.result&&t(s.result)},s.readAsDataURL(e)}else i.src=window.URL.createObjectURL(e)})}var mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const fn=mn;var gn=function(t,r){return l.createElement(Ee,ne({},t,{ref:r,icon:fn}))};const hn=l.forwardRef(gn),vn=l.forwardRef((e,t)=>{let{prefixCls:r,className:a,style:i,locale:s,listType:o,file:n,items:p,progress:u,iconRender:c,actionIconRender:m,itemRender:f,isImgUrl:b,showPreviewIcon:C,showRemoveIcon:E,showDownloadIcon:D,previewIcon:P,removeIcon:S,downloadIcon:x,onPreview:N,onDownload:h,onClose:R}=e;var j,_;const{status:X}=n,[M,Z]=l.useState(X);l.useEffect(()=>{X!=="removed"&&Z(X)},[X]);const[ae,ce]=l.useState(!1);l.useEffect(()=>{const A=setTimeout(()=>{ce(!0)},300);return()=>{clearTimeout(A)}},[]);const J=c(n);let ee=l.createElement("div",{className:`${r}-icon`},J);if(o==="picture"||o==="picture-card"||o==="picture-circle")if(M==="uploading"||!n.thumbUrl&&!n.url){const A=k(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:M!=="uploading"});ee=l.createElement("div",{className:A},J)}else{const A=b!=null&&b(n)?l.createElement("img",{src:n.thumbUrl||n.url,alt:n.name,className:`${r}-list-item-image`,crossOrigin:n.crossOrigin}):J,pe=k(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:b&&!b(n)});ee=l.createElement("a",{className:pe,onClick:K=>N(n,K),href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer"},A)}const H=k(`${r}-list-item`,`${r}-list-item-${M}`),F=typeof n.linkProps=="string"?JSON.parse(n.linkProps):n.linkProps,de=E?m((typeof S=="function"?S(n):S)||l.createElement(sr,null),()=>R(n),r,s.removeFile,!0):null,ue=D&&M==="done"?m((typeof x=="function"?x(n):x)||l.createElement(hn,null),()=>h(n),r,s.downloadFile):null,we=o!=="picture-card"&&o!=="picture-circle"&&l.createElement("span",{key:"download-delete",className:k(`${r}-list-item-actions`,{picture:o==="picture"})},ue,de),V=k(`${r}-list-item-name`),Y=n.url?[l.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:V,title:n.name},F,{href:n.url,onClick:A=>N(n,A)}),n.name),we]:[l.createElement("span",{key:"view",className:V,onClick:A=>N(n,A),title:n.name},n.name),we],g=C&&(n.url||n.thumbUrl)?l.createElement("a",{href:n.url||n.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:A=>N(n,A),title:s.previewFile},typeof P=="function"?P(n):P||l.createElement(tr,null)):null,O=(o==="picture-card"||o==="picture-circle")&&M!=="uploading"&&l.createElement("span",{className:`${r}-list-item-actions`},g,M==="done"&&ue,de),{getPrefixCls:q}=l.useContext(Ne),U=q(),Q=l.createElement("div",{className:H},ee,Y,O,ae&&l.createElement(mt,{motionName:`${U}-fade`,visible:M==="uploading",motionDeadline:2e3},A=>{let{className:pe}=A;const K="percent"in n?l.createElement(lr,Object.assign({},u,{type:"line",percent:n.percent,"aria-label":n["aria-label"],"aria-labelledby":n["aria-labelledby"]})):null;return l.createElement("div",{className:k(`${r}-list-item-progress`,pe)},K)})),oe=n.response&&typeof n.response=="string"?n.response:((j=n.error)===null||j===void 0?void 0:j.statusText)||((_=n.error)===null||_===void 0?void 0:_.message)||s.uploadError,W=M==="error"?l.createElement(Gt,{title:oe,getPopupContainer:A=>A.parentNode},Q):Q;return l.createElement("div",{className:k(`${r}-list-item-container`,a),style:i,ref:t},f?f(W,n,p,{download:h.bind(null,n),preview:N.bind(null,n),remove:R.bind(null,n)}):W)}),bn=vn,yn=(e,t)=>{const{listType:r="text",previewFile:a=pn,onPreview:i,onDownload:s,onRemove:o,locale:n,iconRender:p,isImageUrl:u=un,prefixCls:c,items:m=[],showPreviewIcon:f=!0,showRemoveIcon:b=!0,showDownloadIcon:C=!1,removeIcon:E,previewIcon:D,downloadIcon:P,progress:S={size:[-1,2],showInfo:!1},appendAction:x,appendActionVisible:N=!0,itemRender:h,disabled:R}=e,j=ht(),[_,X]=l.useState(!1);l.useEffect(()=>{r!=="picture"&&r!=="picture-card"&&r!=="picture-circle"||(m||[]).forEach(g=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(g.originFileObj instanceof File||g.originFileObj instanceof Blob)||g.thumbUrl!==void 0||(g.thumbUrl="",a&&a(g.originFileObj).then(O=>{g.thumbUrl=O||"",j()}))})},[r,m,a]),l.useEffect(()=>{X(!0)},[]);const M=(g,O)=>{if(i)return O==null||O.preventDefault(),i(g)},Z=g=>{typeof s=="function"?s(g):g.url&&window.open(g.url)},ae=g=>{o==null||o(g)},ce=g=>{if(p)return p(g,r);const O=g.status==="uploading",q=u&&u(g)?l.createElement(ln,null):l.createElement(Zr,null);let U=O?l.createElement(Ke,null):l.createElement(nn,null);return r==="picture"?U=O?l.createElement(Ke,null):q:(r==="picture-card"||r==="picture-circle")&&(U=O?n.uploading:q),U},J=(g,O,q,U,Q)=>{const oe={type:"text",size:"small",title:U,onClick:W=>{O(),Je(g)&&g.props.onClick&&g.props.onClick(W)},className:`${q}-list-item-action`};if(Q&&(oe.disabled=R),Je(g)){const W=ze(g,Object.assign(Object.assign({},g.props),{onClick:()=>{}}));return l.createElement(be,Object.assign({},oe,{icon:W}))}return l.createElement(be,Object.assign({},oe),l.createElement("span",null,g))};l.useImperativeHandle(t,()=>({handlePreview:M,handleDownload:Z}));const{getPrefixCls:ee}=l.useContext(Ne),H=ee("upload",c),F=ee(),de=k(`${H}-list`,`${H}-list-${r}`),ue=le(m.map(g=>({key:g.uid,file:g})));let V={motionDeadline:2e3,motionName:`${H}-${r==="picture-card"||r==="picture-circle"?"animate-inline":"animate"}`,keys:ue,motionAppear:_};const Y=l.useMemo(()=>{const g=Object.assign({},zt(F));return delete g.onAppearEnd,delete g.onEnterEnd,delete g.onLeaveEnd,g},[F]);return r!=="picture-card"&&r!=="picture-circle"&&(V=Object.assign(Object.assign({},Y),V)),l.createElement("div",{className:de},l.createElement(Bt,Object.assign({},V,{component:!1}),g=>{let{key:O,file:q,className:U,style:Q}=g;return l.createElement(bn,{key:O,locale:n,prefixCls:H,className:U,style:Q,file:q,items:m,progress:S,listType:r,isImgUrl:u,showPreviewIcon:f,showRemoveIcon:b,showDownloadIcon:C,removeIcon:E,previewIcon:D,downloadIcon:P,iconRender:ce,actionIconRender:J,itemRender:h,onPreview:M,onDownload:Z,onClose:ae})}),x&&l.createElement(mt,Object.assign({},V,{visible:N,forceRender:!0}),g=>{let{className:O,style:q}=g;return ze(x,U=>({className:k(U.className,O),style:Object.assign(Object.assign(Object.assign({},q),{pointerEvents:O?"none":void 0}),U.style)}))}))},wn=l.forwardRef(yn),xn=wn;var $n=function(e,t,r,a){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function n(c){try{u(a.next(c))}catch(m){o(m)}}function p(c){try{u(a.throw(c))}catch(m){o(m)}}function u(c){c.done?s(c.value):i(c.value).then(n,p)}u((a=a.apply(e,t||[])).next())})};const Ce=`__LIST_IGNORE_${Date.now()}__`,Cn=(e,t)=>{const{fileList:r,defaultFileList:a,onRemove:i,showUploadList:s=!0,listType:o="text",onPreview:n,onDownload:p,onChange:u,onDrop:c,previewFile:m,disabled:f,locale:b,iconRender:C,isImageUrl:E,progress:D,prefixCls:P,className:S,type:x="select",children:N,style:h,itemRender:R,maxCount:j,data:_={},multiple:X=!1,hasControlInside:M=!0,action:Z="",accept:ae="",supportServerRender:ce=!0,rootClassName:J}=e,ee=l.useContext(kt),H=f??ee,[F,de]=_t(a||[],{value:r,postState:v=>v??[]}),[ue,we]=l.useState("drop"),V=l.useRef(null);l.useMemo(()=>{const v=Date.now();(r||[]).forEach((w,I)=>{!w.uid&&!Object.isFrozen(w)&&(w.uid=`__AUTO__${v}_${I}__`)})},[r]);const Y=(v,w,I)=>{let y=le(w),$=!1;j===1?y=y.slice(-1):j&&($=y.length>j,y=y.slice(0,j)),Ye.flushSync(()=>{de(y)});const z={file:v,fileList:y};I&&(z.event=I),(!$||y.some(se=>se.uid===v.uid))&&Ye.flushSync(()=>{u==null||u(z)})},g=(v,w)=>$n(void 0,void 0,void 0,function*(){const{beforeUpload:I,transformFile:y}=e;let $=v;if(I){const z=yield I(v,w);if(z===!1)return!1;if(delete v[Ce],z===Ce)return Object.defineProperty(v,Ce,{value:!0,configurable:!0}),!1;typeof z=="object"&&z&&($=z)}return y&&($=yield y($)),$}),O=v=>{const w=v.filter($=>!$.file[Ce]);if(!w.length)return;const I=w.map($=>Ie($.file));let y=le(F);I.forEach($=>{y=Oe($,y)}),I.forEach(($,z)=>{let se=$;if(w[z].parsedFile)$.status="uploading";else{const{originFileObj:me}=$;let ie;try{ie=new File([me],me.name,{type:me.type})}catch{ie=new Blob([me],{type:me.type}),ie.name=me.name,ie.lastModifiedDate=new Date,ie.lastModified=new Date().getTime()}ie.uid=$.uid,se=ie}Y(se,y)})},q=(v,w,I)=>{try{typeof v=="string"&&(v=JSON.parse(v))}catch{}if(!Ue(w,F))return;const y=Ie(w);y.status="done",y.percent=100,y.response=v,y.xhr=I;const $=Oe(y,F);Y(y,$)},U=(v,w)=>{if(!Ue(w,F))return;const I=Ie(w);I.status="uploading",I.percent=v.percent;const y=Oe(I,F);Y(I,y,v)},Q=(v,w,I)=>{if(!Ue(I,F))return;const y=Ie(I);y.error=v,y.response=w,y.status="error";const $=Oe(y,F);Y(y,$)},oe=v=>{let w;Promise.resolve(typeof i=="function"?i(v):i).then(I=>{var y;if(I===!1)return;const $=cn(v,F);$&&(w=Object.assign(Object.assign({},v),{status:"removed"}),F==null||F.forEach(z=>{const se=w.uid!==void 0?"uid":"name";z[se]===w[se]&&!Object.isFrozen(z)&&(z.status="removed")}),(y=V.current)===null||y===void 0||y.abort(w),Y(w,$))})},W=v=>{we(v.type),v.type==="drop"&&(c==null||c(v))};l.useImperativeHandle(t,()=>({onBatchStart:O,onSuccess:q,onProgress:U,onError:Q,fileList:F,upload:V.current}));const{getPrefixCls:A,direction:pe,upload:K}=l.useContext(Ne),T=A("upload",P),xe=Object.assign(Object.assign({onBatchStart:O,onError:Q,onProgress:U,onSuccess:q},e),{data:_,multiple:X,action:Z,accept:ae,supportServerRender:ce,prefixCls:T,disabled:H,beforeUpload:g,onChange:void 0,hasControlInside:M});delete xe.className,delete xe.style,(!N||H)&&delete xe.id;const qe=`${T}-wrapper`,[Re,Ge,St]=Kr(T,qe),[jt]=Ht("Upload",qt.Upload),{showRemoveIcon:_e,showPreviewIcon:Et,showDownloadIcon:It,removeIcon:Ot,previewIcon:Pt,downloadIcon:Nt}=typeof s=="boolean"?{}:s,Ft=typeof _e>"u"?!H:!!_e,Te=(v,w)=>s?l.createElement(xn,{prefixCls:T,listType:o,items:F,previewFile:m,onPreview:n,onDownload:p,onRemove:oe,showRemoveIcon:Ft,showPreviewIcon:Et,showDownloadIcon:It,removeIcon:Ot,previewIcon:Pt,downloadIcon:Nt,iconRender:C,locale:Object.assign(Object.assign({},jt),b),isImageUrl:E,progress:D,appendAction:v,appendActionVisible:w,itemRender:R,disabled:H}):v,De=k(qe,S,J,Ge,St,K==null?void 0:K.className,{[`${T}-rtl`]:pe==="rtl",[`${T}-picture-card-wrapper`]:o==="picture-card",[`${T}-picture-circle-wrapper`]:o==="picture-circle"}),Rt=Object.assign(Object.assign({},K==null?void 0:K.style),h);if(x==="drag"){const v=k(Ge,T,`${T}-drag`,{[`${T}-drag-uploading`]:F.some(w=>w.status==="uploading"),[`${T}-drag-hover`]:ue==="dragover",[`${T}-disabled`]:H,[`${T}-rtl`]:pe==="rtl"});return Re(l.createElement("span",{className:De},l.createElement("div",{className:v,style:Rt,onDrop:W,onDragOver:W,onDragLeave:W},l.createElement(Be,Object.assign({},xe,{ref:V,className:`${T}-btn`}),l.createElement("div",{className:`${T}-drag-container`},N))),Te()))}const Tt=k(T,`${T}-select`,{[`${T}-disabled`]:H}),Ve=(v=>l.createElement("div",{className:Tt,style:v},l.createElement(Be,Object.assign({},xe,{ref:V}))))(N?void 0:{display:"none"});return Re(o==="picture-card"||o==="picture-circle"?l.createElement("span",{className:De},Te(Ve,!!N)):l.createElement("span",{className:De},Ve,Te()))},Sn=l.forwardRef(Cn),yt=Sn;var jn=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};const En=l.forwardRef((e,t)=>{var{style:r,height:a,hasControlInside:i=!1}=e,s=jn(e,["style","height","hasControlInside"]);return l.createElement(yt,Object.assign({ref:t,hasControlInside:i},s,{type:"drag",style:Object.assign(Object.assign({},r),{height:a})}))}),In=En,He=yt;He.Dragger=In;He.LIST_IGNORE=Ce;const On=He;var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"};const Nn=Pn;var Fn=function(t,r){return l.createElement(Ee,ne({},t,{ref:r,icon:Nn}))};const Rn=l.forwardRef(Fn),{Axios:Pa,AxiosError:Na,CanceledError:Fa,isCancel:Ra,CancelToken:Ta,VERSION:Da,all:Aa,Cancel:La,isAxiosError:tt,spread:Ma,toFormData:Ua,AxiosHeaders:za,HttpStatusCode:Ba,formToJSON:ka,getAdapter:Ha,mergeConfig:qa}=ar;async function Tn(e){return re.setItem("chatgpt-session",e)}function Dn(){const[e,t]=l.useState();return l.useEffect(()=>{gt().then(r=>{r&&t(Qt(r))})},[]),e?d.jsx($e,{size:"small",className:"w-[250px]",children:d.jsxs(ye,{children:[d.jsx(er,{src:e.user.picture}),d.jsxs(ve,{vertical:!0,children:[d.jsx("span",{children:e.user.name}),d.jsxs("span",{className:"text-xs text-gray-500",children:["过期时间：",ft(e.expires).format(Zt)]})]})]})}):d.jsx(d.Fragment,{})}function Pe(e){return e.error!==void 0}async function An(e={}){return(await Wt.get("/models",{params:e})).data}async function Ln(e={}){return(await Kt.get("/models",{params:e})).data}var Mn=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],Un=je.forwardRef(function(e,t){var r=e.fieldProps,a=e.options,i=e.radioType,s=e.layout,o=e.proFieldProps,n=e.valueEnum,p=ct(e,Mn);return d.jsx(dr,he(he({valueType:i==="button"?"radioButton":"radio",ref:t,valueEnum:ur(n,void 0)},p),{},{fieldProps:he({options:a,layout:s},r),proFieldProps:o,filedConfig:{customLightMode:!0}}))}),zn=je.forwardRef(function(e,t){var r=e.fieldProps,a=e.children;return d.jsx(Se,he(he({},r),{},{ref:t,children:a}))}),Bn=cr(zn,{valuePropName:"checked",ignoreWidth:!0}),Fe=Bn;Fe.Group=Un;Fe.Button=Se.Button;Fe.displayName="ProFormComponent";const wt=Fe;function xt(){const e=new rr(xt.name),[t,r]=l.useState("v1"),a=l.useRef(),{notification:i}=ke.useApp(),s=async()=>{var o,n,p,u;if(t==="v1")try{const c=await An();if(e.debug("data",c),Pe(c))i.error({message:c.error.status,description:c.error.message});else return{total:((o=c.models)==null?void 0:o.length)||0,data:c.models||[],success:!0}}catch(c){if(tt(c)){const m=(n=c.response)==null?void 0:n.data;Pe(m)?i.error({message:m.error.status,description:m.error.message}):i.error({message:c.code,description:c.message})}else e.error("e",c)}if(t==="v1beta")try{const c=await Ln();if(e.debug("data",c),Pe(c))i.error({message:c.error.status,description:c.error.message});else return{total:((p=c.models)==null?void 0:p.length)||0,data:c.models||[],success:!0}}catch(c){if(tt(c)){const m=(u=c.response)==null?void 0:u.data;Pe(m)?i.error({message:m.error.status,description:m.error.message}):i.error({message:c.code,description:c.message})}else e.error("e",c)}return{success:!0,data:[],total:0}};return d.jsxs(ve,{gap:10,vertical:!0,children:[d.jsx("h3",{children:"Gemini 可用模型"}),d.jsxs(Se.Group,{value:t,onChange:o=>{var n;r(o.target.value),(n=a.current)==null||n.reload()},children:[d.jsx(Se.Button,{value:"v1",children:"v1"}),d.jsx(Se.Button,{value:"v1beta",children:"v1beta"})]}),d.jsx(ir,{actionRef:a,rowKey:"name",search:!1,toolBarRender:!1,request:s,pagination:{pageSize:5},columns:[{title:"模型名称",dataIndex:"name"},{title:"模型介绍",dataIndex:"description"}]})]})}function kn(){const[e,t]=l.useState("");return l.useEffect(()=>{gt().then(r=>{r&&t(r)})},[]),d.jsxs("div",{className:"my-4",children:[d.jsx("h3",{children:"第一步：Backend API Mode"}),d.jsxs("p",{children:["获取 SESSION 信息：",d.jsx("a",{href:"https://chat.openai.com/api/auth/session",target:"_blank",children:"点击这里"})]}),d.jsxs(ve,{gap:15,vertical:!0,children:[d.jsx(fe.TextArea,{value:e,className:"w-[300px]",onChange:r=>t(r.target.value)}),d.jsx("div",{children:d.jsx(be,{type:"primary",onClick:()=>Tn(e),children:"保存 SESSION"})}),d.jsx(Dn,{}),d.jsxs("div",{children:[d.jsx("h3",{children:"第二步：允许发起跨域请求（CORS）"}),d.jsxs("p",{children:["安装浏览器插件：",d.jsx("a",{href:"https://modheader.com/",target:"_blank",children:"ModHeader"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{children:"Response headers"}),d.jsxs(ye,{children:[d.jsx(fe,{className:"w-[300px]",value:"Access-Control-Allow-Origin"}),d.jsx(fe,{className:"w-[50px]",value:"*"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{children:"Request URL filters"}),d.jsxs(ye,{children:[d.jsx(fe,{className:"w-[250px]",value:".*://chat.openai.com/.*"}),d.jsx(fe,{className:"w-[100px]",value:"All methods"})]})]})]})]})}function Hn(){const[e,t]=l.useState(""),[r,a]=l.useState(""),{message:i}=ke.useApp();return l.useEffect(()=>{Jt().then(s=>{s&&(t(s),a(s))})},[]),d.jsxs(ve,{vertical:!0,gap:20,children:[d.jsxs(ve,{vertical:!0,gap:0,children:[d.jsx("h3",{children:"获取 Gemini API key"}),d.jsxs("p",{className:"leading-3",children:["1. 打开"," ",d.jsx("a",{href:"https://makersuite.google.com/",target:"_blank",children:"Google AI Studio"}),"，使用 Google 账号登录"]}),d.jsx("p",{className:"leading-3",children:"2. 点击 Get API Key -> Create API key in new project"}),d.jsx("p",{className:"leading-3",children:"3. 填写 key 在这里 "})]}),d.jsxs(ve,{vertical:!0,children:[d.jsx("h3",{children:"配置 API key"}),d.jsxs(ye,{children:[d.jsx(fe,{allowClear:!0,value:e,onChange:s=>t(s.currentTarget.value),placeholder:"在这里填写 API key",className:"w-[300px]"}),d.jsx(be,{onClick:()=>{Yt(e).then(()=>i.success("操作成功")).catch(()=>i.error("操作失败"))},children:"保存"})]})]}),r&&d.jsx(xt,{})]})}function qn(){return d.jsx(vt,{defaultActiveKey:"gemini",items:[{label:"Gemini",key:"gemini",children:d.jsx(Hn,{})},{label:"ChatGPT",key:"chatgpt",children:d.jsx(kn,{}),disabled:!0}]})}function Gn(){return d.jsx("div",{className:"my-4",children:d.jsx(wt.Group,{label:"词典",fieldProps:{defaultValue:"iciba"},options:[{label:"金山词霸",value:"iciba"}]})})}const $t="translate-provider";async function _n(){return re.getItem($t)}async function Vn(e){return re.setItem($t,e)}function Xn(){const[e,t]=l.useState("gemeni-pro"),[r,a]=l.useState();l.useEffect(()=>{_n().then(o=>{o&&t(o)})},[]),l.useEffect(()=>{pr().then(o=>{o&&a(o)})},[]);const i=o=>{t(o),Vn(o)},s=o=>{a(o),fr(o)};return d.jsxs("div",{className:"my-4",children:[d.jsx(wt.Group,{label:"翻译",fieldProps:{onChange:o=>i(o.target.value),value:e,defaultValue:"alapi-cn"},options:[{label:"Gemeni Pro",value:"gemeni-pro"},{label:"APNIC",value:"alapi-cn"}]}),e==="alapi-cn"&&d.jsx(mr,{label:"APNIC TOKEN",fieldProps:{className:"w-[300px]",value:r,onChange:o=>s(o.currentTarget.value)}})]})}function Ct(){const e=nr(Ct),{message:t}=ke.useApp(),r=o=>{const n=o.type==="application/json";return n||t.error("只能导入JSON文件"),n},a=async o=>{try{const n=await i(o);e.debug("JSON 数据:",n)}catch(n){e.error("读取文件出错:",n)}},i=o=>new Promise((n,p)=>{if(typeof o=="string")n(JSON.parse(o));else{const u=new FileReader;u.onload=c=>{var m;try{if(typeof((m=c.target)==null?void 0:m.result)=="string"){const f=JSON.parse(c.target.result);if(Array.isArray(f))for(const b of f){const C=br(b.blocks);if(re.getItem(b.key).then(E=>{E||(delete b.blocks,re.setItem(b.key,b))}),Array.isArray(C))for(const E of C)re.getItem(E.key).then(D=>{D||re.setItem(E.key,E)})}t.success("操作成功"),n(f)}}catch(f){p(f)}},u.readAsText(o)}}),s=async()=>{};return d.jsx(On,{beforeUpload:r,maxCount:1,customRequest:async({file:o,onError:n})=>{a(o).catch(n)},showUploadList:!1,children:d.jsx(be,{type:"default",onClick:s,children:"恢复数据"})})}function Wn(){var r,a,i,s;const e=vr({queryKey:["localforage-keys"],queryFn:()=>re.keys()}),t=async()=>{const o=[],n=await gr();for(const f of n){const b=await hr(f.blockKeys);o.push({...f,blocks:b})}const p=JSON.stringify(o,null,2),u=new Blob([p],{type:"application/json"}),c=URL.createObjectURL(u),m=document.createElement("a");m.href=c,m.download=`exported-data-${ft().format("YYYY-MM-DD")}.json`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(c)};return d.jsxs("div",{className:"my-4 flex flex-col",children:[d.jsxs("h3",{children:[d.jsx(Rn,{className:"mr-1"}),"本地缓存"]}),d.jsxs(ye,{size:"large",wrap:!0,children:[d.jsx($e,{bordered:!0,children:d.jsx(ge,{title:"单词",value:((r=e.data)==null?void 0:r.filter(o=>o.startsWith("word")).length)||"-",suffix:"个",className:"w-[120px]"})}),d.jsx($e,{bordered:!0,children:d.jsx(ge,{title:"翻译",value:((a=e.data)==null?void 0:a.filter(o=>o.startsWith("fanyi")).length)||"-",suffix:"条",className:"w-[120px]"})}),d.jsx($e,{bordered:!0,children:d.jsx(ge,{title:"论文",value:((i=e.data)==null?void 0:i.filter(o=>o.startsWith("paper")).length)||"-",suffix:"篇",className:"w-[120px]"})}),d.jsx($e,{bordered:!0,children:d.jsx(ge,{title:"图片",value:((s=e.data)==null?void 0:s.filter(o=>o.startsWith("image")).length)||"-",suffix:"个",className:"w-[120px]"})})]}),d.jsxs(ye,{className:"my-5",children:[d.jsx(be,{type:"primary",onClick:t,children:"备份数据"}),d.jsx(Ct,{})]})]})}function Ga(){return d.jsx(Vt,{mode:"custom",children:d.jsx(Xt,{className:"mr-5",children:d.jsx(vt,{className:"h-full",tabPosition:"left",tabBarExtraContent:{left:d.jsx("div",{className:"h-4"})},destroyInactiveTabPane:!0,items:[{label:"通用",key:"common",children:d.jsx(qn,{})},{label:"存储",key:"storage",children:d.jsx(Wn,{})},{label:"词典",key:"dictionary",children:d.jsx(Gn,{})},{label:"翻译",key:"fanyi",children:d.jsx(Xn,{})}]})})})}export{Ga as default};
